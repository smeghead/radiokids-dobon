import{j as d,i as m,r as i,R as p,a as g}from"./vendor.4dd4a4ff.js";const v=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}};v();const s=d.exports.jsx,u=d.exports.jsxs,b=m({locateFile:r=>`https://sql.js.org/dist/${r}`}),x=async()=>{const r=fetch("http://localhost:3000/songs.db").then(n=>n.arrayBuffer()),[o,c]=await Promise.all([b,r]);return new o.Database(new Uint8Array(c))},y=r=>r.filter((o,c,n)=>n.indexOf(o)===c);function N(r){const[o,c]=i.exports.useState([]);return i.exports.useEffect(()=>{(async()=>{const e=r.chars;if(r.includes,e.length===0){c([]);return}const t=[],l=(await x()).prepare("SELECT * FROM songs WHERE chars like $chars"),f=y("".split(e)).sort();for(l.getAsObject({$chars:"%"+f.join("%")+"%"}),l.bind({$chars:1});l.step();){const h=l.getAsObject();console.log("Here is a row: "+JSON.stringify(h))}console.log("collected"),c(t)})()},[r]),s("ul",{children:o.map(n=>u("li",{children:[n.title," ",n.artist]},n.id))})}function R(){const[r,o]=i.exports.useState(""),[c,n]=i.exports.useState(!0),e=i.exports.useRef(null),t=i.exports.useRef(null);return u("div",{className:"App container is-max-desktop",children:[s("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:s("div",{className:"navbar-brand",children:s("p",{className:"navbar-item",children:"Radio Kids \u30C9\u30DC\u30F3(Unofficial)"})})}),u("div",{className:"box columns",children:[s("div",{className:"column is-half",children:s("input",{className:"input",type:"text",placeholder:"\u6761\u4EF6\u3068\u306A\u308B\u6587\u5B57\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",ref:e})}),s("div",{className:"column",children:s("div",{className:"select is-normal",children:u("select",{ref:t,children:[s("option",{value:"true",children:"\u3092\u542B\u3080"}),s("option",{value:"false",children:"\u3092\u542B\u307E\u306A\u3044"})]})})}),s("div",{className:"column",children:s("button",{className:"button is-primary",onClick:()=>{o(e.current.value),n(t.current.value==="true")},children:"\u691C\u7D22"})})]}),s(N,{chars:r,includes:c})]})}p.render(s(g.StrictMode,{children:s(R,{})}),document.getElementById("root"));
